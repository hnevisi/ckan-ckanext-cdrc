{% import 'macros/autoform.html' as autoform %}

{% extends "webadmin/base.html" %}

{% import 'macros/form.html' as form %}

{% block primary_content_inner %}

  {{ form.errors(error_summary) }}

  <form method='post' action="" class="form-horizontal" id="admin-config-form">
    {% block admin_form %}
      {{ autoform.generate(form_items, data, errors) }}
    {% endblock %}
    <div class="form-actions">
      {# {% set locale = h.dump_json({'content': _('Are you sure you want to reset the config?')}) %} #}
      {# <a href="{% url_for controller='admin', action='reset_config' %}" class="btn btn-danger pull-left" data-module="confirm-action" data-module-i18n="{{ locale }}">{{ _('Reset') }}</a> #}
      <button type="submit" class="btn btn-primary" name="save">{{ _('Update Config') }}</button>
    </div>
  </form>
{% endblock %}

{% block secondary_content %}
  <div class="module module-narrow module-shallow">
    <h2 class="module-heading">
      <i class="icon-info-sign"></i>
      {{ _('CDRC Data Website Options') }}
    </h2>
    <div class="module-content">
      {% block admin_form_help %}
      {% trans %}
        <p><strong>MoM Title:</strong> This is the title shown floating on the map.</p>
        <p><strong>MoM URL:</strong> This is the URL patterns for the map tiles.</p>
        <p><strong>MoM Description:</strong> This is the description shown when the "i" button is clicked.</p>
        <p><strong>Notice Text</strong> The notice text will be shown at the top of every page to give a site-wise warning/info message. When the text is set empty, the message will not show.</p>
        <p><strong>Notice Type</strong> The warning messages will shown in red, infomation messages will show in blue and other information will shown in green.</p>
      {% endtrans %}
      {% endblock %}
    </div>
  </div>
{% endblock %}
